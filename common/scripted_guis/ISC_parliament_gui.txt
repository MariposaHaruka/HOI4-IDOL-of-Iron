scripted_gui = {
	parliament_gui_open_button_ISC = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "parliament_gui_open_button_ISC"
		ai_enabled = { always = no }
		visible = {
			original_tag = ISC
			OR = {
				is_democratic = yes
				NOT = { has_idea = no_parliament }
			}
		}
		effects = {
			show_parliament_click = {
				if = {
					limit = { has_country_flag = parliament_gui_on }
					clr_country_flag = parliament_gui_on
				}
				else = {
					set_country_flag = parliament_gui_on
				}
			}
		}
	}
	parliament_window_ISC = {
		context_type = player_context
		parent_window_token = top_bar
		window_name = "parliament_gui_container_ISC"

		visible = {
			original_tag = ISC
			has_country_flag = parliament_gui_on
		}

		effects = {
			close_button_click = {
				clr_country_flag = parliament_gui_on
			}
			btn_select_click = {
				meta_effect = {
					text = { [PARLIAMENT_ACTION_IDEA]_idea_effect = yes }
					PARLIAMENT_ACTION_IDEA = "[?parliament_decision_list.GetName]"
				}	
			}
		}

		triggers = {
			btn_bg_click_enabled = {
				meta_trigger = {
					text = { [PARLIAMENT_ACTION_IDEA]_visible = yes }
					PARLIAMENT_ACTION_IDEA = "[?parliament_decision_list.GetName]"
				}
			}
		}

		dynamic_lists = {
			parliament_main_grid_ISC = {
				array = ISC.parliament_main_array
				index = ISC.parliament_main_index
				change_scope = no
				entry_container = parliament_main_entry_ISC
			}
			parliament_decision_list_ISC_gridbox = {
				array = ISC_parliament_action_decision_list
				change_scope = no
				entry_container = parliament_decision_container_ISC
			}
		}

		properties = {
			parliament_main_icon_ISC = {
				frame = ISC.v
				x = ISC.parliament_x_array^ISC.parliament_main_index
				y = ISC.parliament_y_array^ISC.parliament_main_index
			}
			btn_bg = {
				frame = ISC.parliament_decision_list^i
			}
			btn_select = {
				frame = ISC.parliament_decision_list^i
			}
		}
	}
}